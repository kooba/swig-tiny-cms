<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Eidt {{ contentId }}</title>
  <link rel="stylesheet" title="Default" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.css">
  <link rel="stylesheet" title="Default" href="//bootswatch.com/journal/bootstrap.css">
</head>
<body style="margin: 10px 10px 150px 10px;">
<div style="">
  <div style="width: 50%;float: left">
    <form action="/express-cms/save/" method="post">
      <div style="margin-bottom: 10px;">
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
      <div>
        <input type="hidden" name="contentId" value="{{ contentId }}"/>
        <input type="hidden" name="returnUrl" value="{{ returnUrl }}"/>
        <textarea rows="40" style="width: 95%; padding: 10px;"  name="content" id="content">{{ content }}</textarea>
      </div>
    </form>
  </div>
  <div style="width: 50%;float: left" id="preview"></div>
</div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
<script src="{{ markedjs }}"></script>
<script>
  var editor = function (input, preview) {
    preview.html(marked(input.val()));
  }

  $(function () {

    editor($("#content"), $("#preview"));

    $("#content").bind('input propertychange', function () {
      editor($("#content"), $("#preview"));
    });
  });
</script>
</body>
</html>